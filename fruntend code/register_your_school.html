<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Register Your Madarsa | Huffaz Education System</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  <style>
    :root {
      --primary: #66b2ff;
      --primary-dark: #232a34;
      --bg-gradient: linear-gradient(135deg, #181c24 0%, #232a34 100%);
      --sidebar-gradient: linear-gradient(120deg, #232a34 60%, #66b2ff 100%);
      --form-bg: #181c22;
      --info-bg: rgba(30,34,40,0.92);
      --border: #2b3442;
      --shadow: 0 6px 32px rgba(102,178,255,0.10), 0 1.5px 8px rgba(0,0,0,0.10);
    }
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Quicksand', Arial, sans-serif; }
    body {
      background: var(--bg-gradient);
      color: #f3f6fa;
      min-height: 100vh;
      line-height: 1.7;
    }
    header {
      position: sticky;
      top: 0; z-index: 1000;
      display: flex; justify-content: space-between; align-items: center;
      background: rgba(26, 26, 26, 0.98);
      padding: 16px 32px;
      box-shadow: 0 2px 16px rgba(0,0,0,0.25);
      border-bottom: 1.5px solid #2b3442;
      backdrop-filter: blur(4px);
      flex-wrap: wrap;
    }
    .logo_container {
      display: flex; align-items: center; gap: 18px;
    }
    .Huffaz_logo img {
      height: 54px; display: block; border-radius: 12px; padding: 2px 6px;
    }
    .book_logo {
      text-decoration: none !important;
      display: flex; align-items: center; justify-content: center;
      border-radius: 50%;
      background: linear-gradient(135deg, #232a34 60%, #66b2ff 100%);
      box-shadow: 0 2px 12px #66b2ff22;
      width: 54px; height: 54px; margin-left: 8px; border: 2px solid #232a34;
    }
    .book_logo .material-symbols-outlined { font-size: 34px; }
    .nav_bar {
      display: flex; gap: 18px; flex-wrap: wrap;
    }
    .nav_bar a {
      display: flex; align-items: center; gap: 6px;
      font-size: 15px; color: #eaeaea; font-weight: 700; text-transform: uppercase;
      text-decoration: none; padding: 10px 18px; border-radius: 10px;
      transition: background 0.25s, box-shadow 0.25s, color 0.25s; letter-spacing: 1px;
    }
    .nav_bar a:hover {
      background: linear-gradient(90deg, #66b2ff33 0%, #232a34 100%);
      color: #66b2ff; box-shadow: 0 2px 12px #66b2ff22;
    }
    .search-bar {
      display: flex; align-items: center; background: #232a34;
      border-radius: 24px; padding: 6px 16px; width: 340px; border: 1.5px solid #2b3442;
      transition: border 0.3s;
    }
    .search-bar:hover, .search-bar:focus-within { border-color: #66b2ff; }
    .search-input {
      border: none; background: transparent; flex-grow: 1; outline: none;
      color: #f3f6fa; font-size: 15px; padding: 6px 0;
    }
    .search-input::placeholder { color: #b0b8c1; opacity: 0.8; }
    .material-symbols-outlined { color: #66b2ff; font-size: 22px; margin-right: 6px; vertical-align: middle; }

    /* Main layout */
    .main-content {
      display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
      min-height: 100vh; width: 100%; max-width: 100vw; margin: 0 auto; padding: 0;
      background: none;
    }
    .register-card {
      background: var(--form-bg);
      border-radius: 24px;
      box-shadow: var(--shadow);
      margin: 48px 0 32px 0;
      max-width: 580px;
      width: 98%;
      padding: 0;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      border: 1.5px solid #232a34;
    }
    .register-card-header {
      background: var(--sidebar-gradient);
      padding: 38px 36px 18px 36px;
      text-align: center;
    }
    .register-card-header h1 {
      color: #fff;
      font-size: 2.1rem;
      font-family: 'Playfair Display', serif;
      margin-bottom: 8px;
      font-weight: 700;
      letter-spacing: 1px;
    }
    .register-card-header p {
      color: #b0e1ff;
      font-size: 1.13rem;
      margin-bottom: 0;
    }
    .register-card-header .material-symbols-outlined {
      font-size: 42px;
      color: #fff;
      margin-bottom: 8px;
      display: block;
    }
    .register-card-body {
      padding: 36px 36px 28px 36px;
      background: var(--form-bg);
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }
    .register-card-body form {
      display: flex;
      flex-direction: column;
      gap: 18px;
    }
    .form-row {
      display: flex;
      flex-direction: column;
      gap: 7px;
    }
    .form-row label {
      color: #b0b8c1;
      font-size: 1.03rem;
      font-weight: 600;
      margin-bottom: 2px;
      letter-spacing: 0.5px;
    }
    .form-row input,
    .form-row textarea {
      padding: 13px 14px;
      border-radius: 8px;
      border: 1.5px solid #333d4b;
      background: #232a34;
      color: #e0e6ed;
      font-size: 1.07rem;
      transition: border 0.2s, background 0.2s;
      font-family: 'Quicksand', sans-serif;
      margin-bottom: 0;
    }
    .form-row input:focus,
    .form-row textarea:focus {
      border: 1.5px solid #66b2ff;
      outline: none;
      background: #232f3e;
      color: #fff;
    }
    .form-row textarea {
      min-height: 80px;
      resize: vertical;
    }
    .form-row input[type="file"] {
      background: #232a34;
      color: #e0e6ed;
      border: 1.5px solid #333d4b;
      padding: 10px 0 10px 10px;
      font-size: 1rem;
      border-radius: 8px;
      box-shadow: 0 1px 4px #66b2ff22;
      transition: border 0.2s, box-shadow 0.2s;
      cursor: pointer;
    }
    .form-row input[type="file"]:hover,
    .form-row input[type="file"]:focus {
      border: 1.5px solid #66b2ff;
      box-shadow: 0 2px 8px #66b2ff44;
      background: #232f3e;
    }
    .register-btn {
      background: linear-gradient(90deg, #66b2ff 60%, #559ed6 100%);
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 16px 0;
      font-size: 1.15rem;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s, box-shadow 0.2s, transform 0.2s;
      box-shadow: 0 2px 8px rgba(102,178,255,0.10);
      margin-top: 10px;
      letter-spacing: 1px;
    }
    .register-btn:hover {
      background: linear-gradient(90deg, #559ed6 60%, #66b2ff 100%);
      box-shadow: 0 4px 16px rgba(102,178,255,0.18);
      transform: translateY(-2px) scale(1.03);
    }
    .register-card-footer {
      background: #232a34;
      padding: 18px 36px;
      text-align: center;
      border-radius: 0 0 24px 24px;
      color: #b0e1ff;
      font-size: 1.01rem;
    }
    @media (max-width: 700px) {
      .register-card { margin: 24px 0 18px 0; border-radius: 12px; }
      .register-card-header, .register-card-body, .register-card-footer { padding-left: 12px; padding-right: 12px; }
    }
    @media (max-width: 500px) {
      .register-card-header h1 { font-size: 1.2rem; }
      .register-card-header .material-symbols-outlined { font-size: 32px; }
      .register-card { margin: 10px 0; }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo_container">
      <a href="main.html" class="Huffaz_logo">
        <img src="image's/Huffaz Logo.png" alt="Huffaz Logo">
      </a>
      <a href="main.html" class="book_logo" aria-label="Book Home">
        <span class="material-symbols-outlined">menu_book</span>
      </a>
    </div>
    <nav class="nav_bar">
      <a href="main.html"><span class="material-symbols-outlined">home</span> Home</a>
      <a href="courses.html"><span class="material-symbols-outlined">import_contacts</span> Courses</a>
      <a href="skills.html"><span class="material-symbols-outlined">school</span> Skills</a>
      <a href="about.html"><span class="material-symbols-outlined">info</span> About</a>
      <a href="contact.html"><span class="material-symbols-outlined">call</span> Contact</a>
    </nav>
    <div class="search-bar">
      <span class="material-symbols-outlined">search</span>
      <input class="search-input" type="text" placeholder="Search for Education" />
    </div>
  </header>
  <main class="main-content">
    <section class="register-card">
      <div class="register-card-header">
        <span class="material-symbols-outlined">apartment</span>
        <h1>Register Your School / Madarsa</h1>
        <p>Join the Huffaz Education System network! Register your institution to participate in national competitions, get updates, and connect with others.</p>
      </div>
      <div class="register-card-body">
        <form id="schoolRegForm" autocomplete="off" enctype="multipart/form-data">
          <div class="form-row">
            <label for="admin_email">Email <span style="color:#ff6b6b;">*</span></label>
            <input type="email" name="admin_email" id="admin_email" placeholder="Admin email for registration" required>
          </div>
          <div class="form-row">
            <label for="admin_password">Password <span style="color:#ff6b6b;">*</span></label>
            <input type="password" name="admin_password" id="admin_password" placeholder="Admin password" required>
          </div>
          <hr style="border:none;border-top:1.5px solid #232a34;margin:10px 0;">
          <div class="form-row">
            <label for="school_name">Madarsa/School Name <span style="color:#ff6b6b;">*</span></label>
            <input type="text" name="school_name" id="school_name" placeholder="Your Madarsa/School Name" required>
          </div>
          <div class="form-row">
            <label for="principal_name">Principal/Head Name <span style="color:#ff6b6b;">*</span></label>
            <input type="text" name="principal_name" id="principal_name" placeholder="Principal/Head Name" required>
          </div>
          <div class="form-row">
            <label for="email">Contact Email <span style="color:#ff6b6b;">*</span></label>
            <input type="email" name="email" id="email" placeholder="Contact Email" required>
          </div>
          <div class="form-row">
            <label for="phone">Contact Number <span style="color:#ff6b6b;">*</span></label>
            <input type="text" name="phone" id="phone" placeholder="Contact Number" required>
          </div>
          <div class="form-row">
            <label for="city">City <span style="color:#ff6b6b;">*</span></label>
            <input type="text" name="city" id="city" placeholder="City" required>
          </div>
          <div class="form-row">
            <label for="address">Address <span style="color:#ff6b6b;">*</span></label>
            <input type="text" name="address" id="address" placeholder="Full Address" required>
          </div>
          <div class="form-row">
            <label for="location">Madarsa Location <span style="color:#ff6b6b;">*</span></label>
            <input type="text" name="location" id="location" placeholder="Location (e.g. Lat,Lng or Area)" required>
          </div>
          <div class="form-row">
            <label for="students">No. of Students <span style="color:#ff6b6b;">*</span></label>
            <input type="number" name="students" id="students" placeholder="Quantity of Students" min="1" required>
          </div>
          <div class="form-row">
            <label for="teachers">No. of Teachers <span style="color:#ff6b6b;">*</span></label>
            <input type="number" name="teachers" id="teachers" placeholder="Quantity of Teachers" min="1" required>
          </div>
          <div class="form-row">
            <label for="madarsa_pic">Upload Madarsa Pic <span style="color:#ff6b6b;">*</span></label>
            <input type="file" name="madarsa_pic" id="madarsa_pic" accept="image/*" required>
          </div>
          <div class="form-row">
            <label for="logo">Upload Logo</label>
            <input type="file" name="logo" id="logo" accept="image/*">
          </div>
          <div class="form-row">
            <label for="message">Message</label>
            <textarea name="message" id="message" rows="3" placeholder="Message (optional)"></textarea>
          </div>
          <button type="submit" class="register-btn">Register School / Madarsa</button>
        </form>
      </div>
      <div class="register-card-footer">
        <span class="material-symbols-outlined" style="font-size:18px;vertical-align:middle;">info</span>
        Already registered? Contact admin for updates or to manage your page.
      </div>
    </section>
  </main>
  <script>
    // Helper: Load from localStorage
    function loadSchools() {
      return JSON.parse(localStorage.getItem('registeredSchools') || '[]');
    }
    // Helper: Save to localStorage
    function saveSchools(schools) {
      localStorage.setItem('registeredSchools', JSON.stringify(schools));
    }
    // Registration handler
    document.getElementById('schoolRegForm').addEventListener('submit', function(e) {
      e.preventDefault();
      // Admin login check
      const adminEmail = document.getElementById('admin_email').value.trim();
      const adminPassword = document.getElementById('admin_password').value.trim();
      // Demo: fixed admin credentials
      if (adminEmail !== "admin@huffaz.com" || adminPassword !== "Huffaz123") {
        alert("Invalid admin email or password. Registration not allowed.");
        return;
      }
      const name = document.getElementById('school_name').value.trim();
      const logoInput = document.getElementById('logo');
      const madarsaPicInput = document.getElementById('madarsa_pic');
      const schools = loadSchools();
      // Check for duplicate name
      if (schools.some(s => s.name.toLowerCase() === name.toLowerCase())) {
        alert('A school/madarsa with this name is already registered.');
        return;
      }
      // Read logo and madarsa pic files if provided
      let logoDataUrl = '';
      let madarsaPicDataUrl = '';
      const readFiles = [];
      if (logoInput.files && logoInput.files[0]) {
        readFiles.push(new Promise(resolve => {
          const reader = new FileReader();
          reader.onload = evt => { logoDataUrl = evt.target.result; resolve(); };
          reader.readAsDataURL(logoInput.files[0]);
        }));
      }
      if (madarsaPicInput.files && madarsaPicInput.files[0]) {
        readFiles.push(new Promise(resolve => {
          const reader = new FileReader();
          reader.onload = evt => { madarsaPicDataUrl = evt.target.result; resolve(); };
          reader.readAsDataURL(madarsaPicInput.files[0]);
        }));
      }
      Promise.all(readFiles).then(() => {
        const newSchool = {
          name,
          logo: logoDataUrl,
          madarsaPic: madarsaPicDataUrl,
          principal: document.getElementById('principal_name').value.trim(),
          email: document.getElementById('email').value.trim(),
          phone: document.getElementById('phone').value.trim(),
          city: document.getElementById('city').value.trim(),
          address: document.getElementById('address').value.trim(),
          location: document.getElementById('location').value.trim(),
          students: document.getElementById('students').value.trim(),
          teachers: document.getElementById('teachers').value.trim(),
          message: document.getElementById('message').value.trim()
        };
        schools.push(newSchool);
        saveSchools(schools);
        document.getElementById('schoolRegForm').reset();
        alert('School/Madarsa registered successfully!');
      });
    });
  </script>
</body>
</html>